{"remainingRequest":"/Users/juan/Downloads/estore/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/juan/Downloads/estore/resources/js/vue/components/CartList.vue?vue&type=template&id=5a52c880&scoped=true","dependencies":[{"path":"/Users/juan/Downloads/estore/resources/js/vue/components/CartList.vue","mtime":1649246500709},{"path":"/Users/juan/Downloads/estore/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/juan/Downloads/estore/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/juan/Downloads/estore/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/juan/Downloads/estore/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/juan/Downloads/estore/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICA8Y29tcG9uZW50IGNsYXNzPSJjYXJ0LWxpc3QiIDppcz0iYWxvbmUgPyAnZGl2JyA6ICd0ciciIHYtZm9yPSIocHJvZHVjdCwgaSkgaW4gaW5DYXJ0IiA6a2V5PSJgJHtpfS1jYXJ0YCIgPgogICAgICAgIDx0ZW1wbGF0ZSB2LWlmPSIhYWxvbmUiPgogICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICA8Y2FydC1pdGVtIDpwcm9kdWN0PSJwcm9kdWN0LnByb2R1Y3QiIDpxdWFudGl0eT0icHJvZHVjdC5xdWFudGl0eSIgOmFsb25lPSJmYWxzZSIgLz4KICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgPHRkPgogICAgICAgICAgICAgICAge3t0b01vbmV5KHByb2R1Y3QucHJvZHVjdC5wcmljZSl9fQogICAgICAgICAgICA8L3RkPgogICAgICAgICAgICA8dGQ+CiAgICAgICAgICAgICAgICA8cXVhbnRpdHkgdi1tb2RlbD0icHJvZHVjdC5xdWFudGl0eSIgQHVwZGF0ZTptb2RlbFZhbHVlPSIocSk9PnVwZGF0ZVF1YW50aXR5KHByb2R1Y3QsIHEpIiAvPgogICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhLXNvbGlkIGZhLXRpbWVzIiBAY2xpY2s9InJlbW92ZShwcm9kdWN0KSI+PC9pPgogICAgICAgICAgICA8L3RkPgogICAgICAgIDwvdGVtcGxhdGU+CiAgICAgICAgPGRpdiB2LWlmPSJhbG9uZSIgY2xhc3M9InNpbmdsZSI+CiAgICAgICAgICAgIDxjYXJ0LWl0ZW0gOnByb2R1Y3Q9InByb2R1Y3QucHJvZHVjdCIgOnF1YW50aXR5PSJwcm9kdWN0LnF1YW50aXR5IiA6YWxvbmU9InRydWUiIC8+CiAgICAgICAgICAgIDxzcGFuPjxpIGNsYXNzPSJmYS1zb2xpZCBmYS10aW1lcyIgQGNsaWNrPSJyZW1vdmUocHJvZHVjdCkiPjwvaT48L3NwYW4+CiAgICAgICAgPC9kaXY+CiAgICA8L2NvbXBvbmVudD4K"},{"version":3,"sources":["/Users/juan/Downloads/estore/resources/js/vue/components/CartList.vue"],"names":[],"mappings":";IACI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACtG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACnB,CAAC,CAAC,CAAC;gBACC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YACvF,CAAC,CAAC,CAAC,CAAC;YACJ,CAAC,CAAC,CAAC;gBACC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACrC,CAAC,CAAC,CAAC,CAAC;YACJ,CAAC,CAAC,CAAC;gBACC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;gBAC3F,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC7D,CAAC,CAAC,CAAC,CAAC;QACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACV,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;YAClF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1E,CAAC,CAAC,CAAC,CAAC,CAAC;IACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/juan/Downloads/estore/resources/js/vue/components/CartList.vue","sourceRoot":"","sourcesContent":["<template>\n    <component class=\"cart-list\" :is=\"alone ? 'div' : 'tr'\" v-for=\"(product, i) in inCart\" :key=\"`${i}-cart`\" >\n        <template v-if=\"!alone\">\n            <td>\n                <cart-item :product=\"product.product\" :quantity=\"product.quantity\" :alone=\"false\" />\n            </td>\n            <td>\n                {{toMoney(product.product.price)}}\n            </td>\n            <td>\n                <quantity v-model=\"product.quantity\" @update:modelValue=\"(q)=>updateQuantity(product, q)\" />\n                <i class=\"fa-solid fa-times\" @click=\"remove(product)\"></i>\n            </td>\n        </template>\n        <div v-if=\"alone\" class=\"single\">\n            <cart-item :product=\"product.product\" :quantity=\"product.quantity\" :alone=\"true\" />\n            <span><i class=\"fa-solid fa-times\" @click=\"remove(product)\"></i></span>\n        </div>\n    </component>\n</template>\n\n<script>\n\nimport CartItem from \"./CartItem\";\nimport Quantity from \"./Quantity\";\nexport default {\n    name: \"CartList\",\n    components:{CartItem, Quantity, },\n    props:{\n        alone: {\n            type: Boolean,\n            default: false,\n        }\n    },\n    data(){\n        return {\n            loading: true,\n            products: [],\n        };\n    },\n    mounted() {\n        this.getProducts();\n    },\n    methods:{\n        async getProducts() {\n            this.loading = true;\n            await this.axios.get('/v1/products', {\n                headers: {\n                    Accept: 'application/json'\n                }\n            }).then(response => {\n                if (Array.isArray(response.data)) this.products = response.data;\n            }).catch(() => {\n            });\n            this.loading = false;\n        },\n        remove(product){\n            this.$store.commit('addItem', {product_id:product.product.title, quantity: 0});\n        },\n        updateQuantity(product, q){\n            if(q > 0) {\n                this.$store.commit('updateItem', {product_id: product.product.title, quantity: q});\n            }\n        }\n    },\n    computed:{\n        inCart(){\n            let products = [];\n            for (const title in this.$store.state.cart) {\n                /* eslint-disable  no-prototype-builtins */\n                if (this.$store.state.cart.hasOwnProperty(title)) {\n                    const product = this.products.find(p=>p.title === title);\n                    if(product && this.$store.state.cart[title] > 0){\n                        products.push({\n                            product,\n                            quantity: Math.floor(this.$store.state.cart[title]),\n                        });\n                    }\n                }\n            }\n            this.$emit('update', products);\n            return products;\n        },\n        toMoney(){\n            return (data)=>{\n                let val = parseFloat(data);\n                if(isNaN(val))val = 0;\n                else val = Math.round((val + Number.EPSILON) * 100) / 100;\n                return \"$\" + val.toFixed(2);\n            };\n        }\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.cart-list{\n    .quantity-selector{\n        margin-right: 10px;\n\n    }\n    .fa-trash-can{\n        color: #808080;\n        cursor: pointer;\n    }\n    .single{\n        display: flex;\n        .cart-item{\n            flex: 1;\n        }\n        .fa-times{\n            color: #adadae;\n        }\n    }\n}\n</style>\n"]}]}