{"remainingRequest":"/Users/juan/Downloads/estore/node_modules/babel-loader/lib/index.js!/Users/juan/Downloads/estore/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/juan/Downloads/estore/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/juan/Downloads/estore/resources/js/vue/components/CartButton.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/juan/Downloads/estore/resources/js/vue/components/CartButton.vue","mtime":1649246988511},{"path":"/Users/juan/Downloads/estore/babel.config.js","mtime":1649079486963},{"path":"/Users/juan/Downloads/estore/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/juan/Downloads/estore/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/juan/Downloads/estore/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/juan/Downloads/estore/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IENhcnRMaXN0IGZyb20gIi4vQ2FydExpc3QiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNhcnRCdXR0b24iLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93RGV0YWlsczogZmFsc2UKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBDYXJ0TGlzdDogQ2FydExpc3QKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBhZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMud2luZG93Q2xpY2spOwogIH0sCiAgYmVmb3JlVW5tb3VudDogZnVuY3Rpb24gYmVmb3JlVW5tb3VudCgpIHt9LAogIGNvbXB1dGVkOiB7CiAgICB0b3RhbEl0ZW1zOiBmdW5jdGlvbiB0b3RhbEl0ZW1zKCkgewogICAgICB2YXIgdCA9IDA7CgogICAgICBmb3IgKHZhciB0aXRsZSBpbiB0aGlzLiRzdG9yZS5zdGF0ZS5jYXJ0KSB7CiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zICovCiAgICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLmNhcnQuaGFzT3duUHJvcGVydHkodGl0bGUpKSB7CiAgICAgICAgICB0ICs9IHRoaXMuJHN0b3JlLnN0YXRlLmNhcnRbdGl0bGVdOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHQ7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICB1cGRhdGVkOiBmdW5jdGlvbiB1cGRhdGVkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChfdGhpcy50b3RhbEl0ZW1zID09PSAwICYmIF90aGlzLnNob3dEZXRhaWxzKSBfdGhpcy5zaG93RGV0YWlscyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBzaG93OiBmdW5jdGlvbiBzaG93KCkgewogICAgICBpZiAoIXRoaXMuc2hvd0RldGFpbHMpIHRoaXMuc2hvd0RldGFpbHMgPSB0aGlzLnRvdGFsSXRlbXMgPiAwO2Vsc2UgdGhpcy5zaG93RGV0YWlscyA9IGZhbHNlOwogICAgfSwKICAgIG5hdmlnYXRlOiBmdW5jdGlvbiBuYXZpZ2F0ZSh0bykgewogICAgICB0aGlzLnNob3dEZXRhaWxzID0gZmFsc2U7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHRvKTsKICAgIH0sCiAgICB3aW5kb3dDbGljazogZnVuY3Rpb24gd2luZG93Q2xpY2soZSkgewogICAgICBpZiAoIXRoaXMuc2hvd0RldGFpbHMpIHJldHVybjsKICAgICAgdmFyIGVsbSA9IGUudGFyZ2V0OwoKICAgICAgd2hpbGUgKGVsbS5wYXJlbnROb2RlICE9PSBkb2N1bWVudC5ib2R5KSB7CiAgICAgICAgZWxtID0gZWxtLnBhcmVudE5vZGU7CiAgICAgICAgaWYgKGVsbSA9PT0gdGhpcy4kZWwpIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5zaG93RGV0YWlscyA9IGZhbHNlOwogICAgfQogIH0KfTs="},{"version":3,"mappings":"AAkBA,OAAOA,QAAP,MAAqB,YAArB;AACA,eAAe;AACXC,MAAI,EAAE,YADK;AAEXC,MAFW,kBAEL;AACH,WAAO;AACHC,iBAAW,EAAE;AADV,KAAP;AAGF,GANU;AAOXC,YAAU,EAAC;AACPJ,YAAQ,EAARA;AADO,GAPA;AAUXK,SAVW,qBAUD;AACNC,oBAAgB,CAAC,OAAD,EAAU,KAAKC,WAAf,CAAhB;AACH,GAZU;AAaXC,eAbW,2BAaK,CACf,CAdU;AAeXC,UAAQ,EAAC;AACLC,cADK,wBACO;AACR,UAAIC,IAAI,CAAR;;AACA,WAAK,IAAMC,KAAX,IAAoB,KAAKC,MAAL,CAAYC,KAAZ,CAAkBC,IAAtC,EAA4C;AACxC;AACA,YAAI,KAAKF,MAAL,CAAYC,KAAZ,CAAkBC,IAAlB,CAAuBC,cAAvB,CAAsCJ,KAAtC,CAAJ,EAAkD;AAC9CD,eAAK,KAAKE,MAAL,CAAYC,KAAZ,CAAkBC,IAAlB,CAAuBH,KAAvB,CAAL;AACJ;AACJ;;AACA,aAAOD,CAAP;AACJ;AAVK,GAfE;AA2BXM,SAAO,EAAC;AACJC,WADI,qBACK;AAAA;;AACL,WAAKC,SAAL,CAAe,YAAI;AACf,YAAG,KAAI,CAACT,UAAL,KAAoB,CAApB,IAAyB,KAAI,CAACP,WAAjC,EAA6C,KAAI,CAACA,WAAL,GAAmB,KAAnB;AAChD,OAFD;AAGH,KALG;AAMJiB,QANI,kBAME;AACF,UAAG,CAAC,KAAKjB,WAAT,EAAqB,KAAKA,WAAL,GAAmB,KAAKO,UAAL,GAAkB,CAArC,CAArB,KACK,KAAKP,WAAL,GAAmB,KAAnB;AACR,KATG;AAUJkB,YAVI,oBAUKC,EAVL,EAUQ;AACR,WAAKnB,WAAL,GAAmB,KAAnB;AACA,WAAKoB,OAAL,CAAaC,IAAb,CAAkBF,EAAlB;AACH,KAbG;AAcJf,eAdI,uBAcQkB,CAdR,EAcU;AACV,UAAG,CAAC,KAAKtB,WAAT,EAAsB;AACtB,UAAIuB,GAAE,GAAKD,CAAC,CAACE,MAAb;;AACA,aAAOD,GAAG,CAACE,UAAJ,KAAmBC,QAAQ,CAACC,IAAnC,EAAwC;AACpCJ,WAAE,GAAIA,GAAG,CAACE,UAAV;AACA,YAAGF,GAAE,KAAM,KAAKK,GAAhB,EAAoB;AACxB;;AACA,WAAK5B,WAAL,GAAmB,KAAnB;AACJ;AAtBI;AA3BG,CAAf","names":["CartList","name","data","showDetails","components","mounted","addEventListener","windowClick","beforeUnmount","computed","totalItems","t","title","$store","state","cart","hasOwnProperty","methods","updated","$nextTick","show","navigate","to","$router","push","e","elm","target","parentNode","document","body","$el"],"sourceRoot":"","sources":["/Users/juan/Downloads/estore/resources/js/vue/components/CartButton.vue"],"sourcesContent":["<template>\n    <ul class=\"cart-button\" @click=\"show\" >\n        <li>\n            <span class=\"noselect\">My Cart <span v-if=\"totalItems > 0\">({{totalItems}})<i class=\"fa-solid fa-caret-down\"></i></span></span>\n            <div class=\"details\" v-if=\"showDetails && totalItems > 0\" @click.stop.prevent>\n                <div class=\"lst\">\n                    <cart-list @update=\"updated\" :alone=\"true\" />\n                </div>\n                <div class=\"actions\">\n                    <button class=\"white\" @click=\"navigate('/cart')\">View Cart</button>\n                    <button class=\"back\" @click=\"showDetails = false;\">Chackout</button>\n                </div>\n            </div>\n        </li>\n    </ul>\n</template>\n\n<script>\nimport CartList from \"./CartList\";\nexport default {\n    name: \"CartButton\",\n    data(){\n       return {\n           showDetails: false,\n       };\n    },\n    components:{\n        CartList,\n    },\n    mounted() {\n        addEventListener('click', this.windowClick);\n    },\n    beforeUnmount() {\n    },\n    computed:{\n        totalItems(){\n            let t = 0;\n            for (const title in this.$store.state.cart) {\n                /* eslint-disable no-prototype-builtins */\n                if (this.$store.state.cart.hasOwnProperty(title)) {\n                    t += this.$store.state.cart[title];\n                }\n            }\n            return t;\n        }\n    },\n    methods:{\n        updated(){\n            this.$nextTick(()=>{\n                if(this.totalItems === 0 && this.showDetails)this.showDetails = false;\n            });\n        },\n        show(){\n            if(!this.showDetails)this.showDetails = this.totalItems > 0;\n            else this.showDetails = false;\n        },\n        navigate(to){\n            this.showDetails = false;\n            this.$router.push(to);\n        },\n        windowClick(e){\n            if(!this.showDetails) return;\n            let elm =  e.target;\n            while (elm.parentNode !== document.body){\n                elm = elm.parentNode;\n                if(elm === this.$el)return;\n            }\n            this.showDetails = false;\n        }\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.cart-button{\n    cursor: pointer;\n    margin: 0 !important;\n    position: relative;\n    margin: -20px;\n    .fa-caret-down{\n        margin-left: 10px;\n    }\n    >li{\n        height: 72px;\n        display: flex;\n        align-items: center;\n    }\n    .details{\n        -webkit-box-shadow: 5px 5px 12px 1px rgba(0,0,0,0.33);\n        box-shadow: 5px 5px 12px 1px rgba(0,0,0,0.33);\n        position: absolute;\n        top: 100%;\n        z-index: 2;\n        background: white;\n        width: 100vw;\n        right: 0;\n        padding: 10px;\n        max-width: 300px;\n        .lst{\n            overflow: auto;\n            max-height: 300px;\n            margin-bottom: 10px;\n            ::v-deep{\n                text-align: left;\n                div.single{\n                    margin: 10px 0;\n                    &:first-child{\n                        margin-top: 0;\n                    }\n                }\n            }\n        }\n        .actions{\n            display: flex;\n            margin-left: -10px;\n            button{\n                white-space: nowrap;\n                flex: 1;\n                margin-left: 10px;\n                padding: 12px 0 !important;\n            }\n        }\n    }\n}\n</style>\n"]}]}