{"remainingRequest":"/Users/juan/Downloads/estore/node_modules/babel-loader/lib/index.js!/Users/juan/Downloads/estore/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/juan/Downloads/estore/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/juan/Downloads/estore/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/juan/Downloads/estore/resources/js/vue/components/CartList.vue?vue&type=template&id=5a52c880&scoped=true","dependencies":[{"path":"/Users/juan/Downloads/estore/resources/js/vue/components/CartList.vue","mtime":1649246500709},{"path":"/Users/juan/Downloads/estore/babel.config.js","mtime":1649079486963},{"path":"/Users/juan/Downloads/estore/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/juan/Downloads/estore/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/juan/Downloads/estore/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/juan/Downloads/estore/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/juan/Downloads/estore/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQgYXMgX3Jlc29sdmVEeW5hbWljQ29tcG9uZW50LCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7Cgp2YXIgX3dpdGhTY29wZUlkID0gZnVuY3Rpb24gX3dpdGhTY29wZUlkKG4pIHsKICByZXR1cm4gX3B1c2hTY29wZUlkKCJkYXRhLXYtNWE1MmM4ODAiKSwgbiA9IG4oKSwgX3BvcFNjb3BlSWQoKSwgbjsKfTsKCnZhciBfaG9pc3RlZF8xID0gWyJvbkNsaWNrIl07CnZhciBfaG9pc3RlZF8yID0gewogIGtleTogMSwKICBjbGFzczogInNpbmdsZSIKfTsKdmFyIF9ob2lzdGVkXzMgPSBbIm9uQ2xpY2siXTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9jYXJ0X2l0ZW0gPSBfcmVzb2x2ZUNvbXBvbmVudCgiY2FydC1pdGVtIik7CgogIHZhciBfY29tcG9uZW50X3F1YW50aXR5ID0gX3Jlc29sdmVDb21wb25lbnQoInF1YW50aXR5Iik7CgogIHJldHVybiBfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJG9wdGlvbnMuaW5DYXJ0LCBmdW5jdGlvbiAocHJvZHVjdCwgaSkgewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9yZXNvbHZlRHluYW1pY0NvbXBvbmVudCgkcHJvcHMuYWxvbmUgPyAnZGl2JyA6ICd0cicpLCB7CiAgICAgIGNsYXNzOiAiY2FydC1saXN0IiwKICAgICAga2V5OiAiIi5jb25jYXQoaSwgIi1jYXJ0IikKICAgIH0sIHsKICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBbISRwcm9wcy5hbG9uZSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCB7CiAgICAgICAgICBrZXk6IDAKICAgICAgICB9LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGQiLCBudWxsLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfY2FydF9pdGVtLCB7CiAgICAgICAgICBwcm9kdWN0OiBwcm9kdWN0LnByb2R1Y3QsCiAgICAgICAgICBxdWFudGl0eTogcHJvZHVjdC5xdWFudGl0eSwKICAgICAgICAgIGFsb25lOiBmYWxzZQogICAgICAgIH0sIG51bGwsIDgKICAgICAgICAvKiBQUk9QUyAqLwogICAgICAgICwgWyJwcm9kdWN0IiwgInF1YW50aXR5Il0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZygkb3B0aW9ucy50b01vbmV5KHByb2R1Y3QucHJvZHVjdC5wcmljZSkpLCAxCiAgICAgICAgLyogVEVYVCAqLwogICAgICAgICksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgbnVsbCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X3F1YW50aXR5LCB7CiAgICAgICAgICBtb2RlbFZhbHVlOiBwcm9kdWN0LnF1YW50aXR5LAogICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBbZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgICByZXR1cm4gcHJvZHVjdC5xdWFudGl0eSA9ICRldmVudDsKICAgICAgICAgIH0sIGZ1bmN0aW9uIChxKSB7CiAgICAgICAgICAgIHJldHVybiAkb3B0aW9ucy51cGRhdGVRdWFudGl0eShwcm9kdWN0LCBxKTsKICAgICAgICAgIH1dCiAgICAgICAgfSwgbnVsbCwgOAogICAgICAgIC8qIFBST1BTICovCiAgICAgICAgLCBbIm1vZGVsVmFsdWUiLCAib25VcGRhdGU6bW9kZWxWYWx1ZSJdKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaSIsIHsKICAgICAgICAgIGNsYXNzOiAiZmEtc29saWQgZmEtdGltZXMiLAogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygkZXZlbnQpIHsKICAgICAgICAgICAgcmV0dXJuICRvcHRpb25zLnJlbW92ZShwcm9kdWN0KTsKICAgICAgICAgIH0KICAgICAgICB9LCBudWxsLCA4CiAgICAgICAgLyogUFJPUFMgKi8KICAgICAgICAsIF9ob2lzdGVkXzEpXSldLCA2NAogICAgICAgIC8qIFNUQUJMRV9GUkFHTUVOVCAqLwogICAgICAgICkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCAkcHJvcHMuYWxvbmUgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfY2FydF9pdGVtLCB7CiAgICAgICAgICBwcm9kdWN0OiBwcm9kdWN0LnByb2R1Y3QsCiAgICAgICAgICBxdWFudGl0eTogcHJvZHVjdC5xdWFudGl0eSwKICAgICAgICAgIGFsb25lOiB0cnVlCiAgICAgICAgfSwgbnVsbCwgOAogICAgICAgIC8qIFBST1BTICovCiAgICAgICAgLCBbInByb2R1Y3QiLCAicXVhbnRpdHkiXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaSIsIHsKICAgICAgICAgIGNsYXNzOiAiZmEtc29saWQgZmEtdGltZXMiLAogICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygkZXZlbnQpIHsKICAgICAgICAgICAgcmV0dXJuICRvcHRpb25zLnJlbW92ZShwcm9kdWN0KTsKICAgICAgICAgIH0KICAgICAgICB9LCBudWxsLCA4CiAgICAgICAgLyogUFJPUFMgKi8KICAgICAgICAsIF9ob2lzdGVkXzMpXSldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldOwogICAgICB9KSwKICAgICAgXzogMgogICAgICAvKiBEWU5BTUlDICovCgogICAgfSwgMTAyNAogICAgLyogRFlOQU1JQ19TTE9UUyAqLwogICAgKTsKICB9KSwgMTI4CiAgLyogS0VZRURfRlJBR01FTlQgKi8KICApOwp9"},{"version":3,"mappings":";;;;;;;;;AAc0BA,OAAK,EAAC;;;;;;;;2BAb5BC,oBAiBYC,SAjBZ,EAiBY,IAjBZ,EAiBYC,YAjBmEC,eAiBnE,EAjByE,UAArBC,OAAqB,EAAZC,CAAY,EAAX;yBAA1EC,aAiBYC,yBAjBsBC,eAAK,KAAL,GAAK,IAiB3B,CAjBZ,EAAuC;AAA5BT,WAAK,EAAC,WAAsB;AAAiDU,SAAG,YAAKJ,CAAL;AAApD,KAAvC;wBACI;AAAA,eAWW,EAXMG,8BAAjBR,oBAWWC,SAXX,EAWW;AAAAQ;AAAA,SAXX,EAWW,CAVPC,oBAEK,IAFL,EAEK,IAFL,EAEK,CADDC,aAAoFC,oBAApF,EAAoF;AAAxER,iBAAO,EAAEA,OAAO,CAACA,OAAuD;AAA7CS,kBAAQ,EAAET,OAAO,CAACS,QAA2B;AAAhBC,eAAK,EAAE;AAAS,SAApF;;AAAA,kCACC,CAFL,CAUO,EAPPJ,oBAEK,IAFL,EAEK,IAFL,EAEKK,iBADCZ,iBAAQC,OAAO,CAACA,OAAR,CAAgBY,KAAxB,CACD,CAFL,EACmC;AAAA;AADnC,SAOO,EAJPN,oBAGK,IAHL,EAGK,IAHL,EAGK,CAFDC,aAA4FM,mBAA5F,EAA4F;sBAAzEb,OAAO,CAACS,QAAiE;;mBAAzET,OAAO,CAACS,WAAQK;aAAA,UAAuBC,CAAvB;AAAA,mBAA2BhB,wBAAeC,OAAf,EAAwBe,CAAxB,CAA3B;AAAA;AAAyD,SAA5F;;AAAA,gDAEC,EADDT,oBAA0D,GAA1D,EAA0D;AAAvDX,eAAK,EAAC,mBAAiD;AAA5BqB,iBAAK;AAAA,mBAAEjB,gBAAOC,OAAP,CAAF;AAAA;AAAuB,SAA1D;;AAAA,qBACC,CAHL,CAIO,CAXX;;AAAA,8CAWW,EACAI,8BAAXR,oBAGM,KAHN,cAGM,CAFFW,aAAmFC,oBAAnF,EAAmF;AAAvER,iBAAO,EAAEA,OAAO,CAACA,OAAsD;AAA5CS,kBAAQ,EAAET,OAAO,CAACS,QAA0B;AAAfC,eAAK,EAAE;AAAQ,SAAnF;;AAAA,kCAEE,EADFJ,oBAAuE,MAAvE,EAAuE,IAAvE,EAAuE,CAAjEA,oBAA0D,GAA1D,EAA0D;AAAvDX,eAAK,EAAC,mBAAiD;AAA5BqB,iBAAK;AAAA,mBAAEjB,gBAAOC,OAAP,CAAF;AAAA;AAAuB,SAA1D;;AAAA,qBAAiE,CAAvE,CACE,CAHN,sCADW,CAXX;AAAA;;;;KADJ;;AAAA;GAiBY,CAjBZ;;AAAA","names":["class","_createElementBlock","_Fragment","_renderList","$options","product","i","_createBlock","_resolveDynamicComponent","$props","key","_createElementVNode","_createVNode","_component_cart_item","quantity","alone","_toDisplayString","price","_component_quantity","$event","q","onClick"],"sourceRoot":"","sources":["/Users/juan/Downloads/estore/resources/js/vue/components/CartList.vue"],"sourcesContent":["<template>\n    <component class=\"cart-list\" :is=\"alone ? 'div' : 'tr'\" v-for=\"(product, i) in inCart\" :key=\"`${i}-cart`\" >\n        <template v-if=\"!alone\">\n            <td>\n                <cart-item :product=\"product.product\" :quantity=\"product.quantity\" :alone=\"false\" />\n            </td>\n            <td>\n                {{toMoney(product.product.price)}}\n            </td>\n            <td>\n                <quantity v-model=\"product.quantity\" @update:modelValue=\"(q)=>updateQuantity(product, q)\" />\n                <i class=\"fa-solid fa-times\" @click=\"remove(product)\"></i>\n            </td>\n        </template>\n        <div v-if=\"alone\" class=\"single\">\n            <cart-item :product=\"product.product\" :quantity=\"product.quantity\" :alone=\"true\" />\n            <span><i class=\"fa-solid fa-times\" @click=\"remove(product)\"></i></span>\n        </div>\n    </component>\n</template>\n\n<script>\n\nimport CartItem from \"./CartItem\";\nimport Quantity from \"./Quantity\";\nexport default {\n    name: \"CartList\",\n    components:{CartItem, Quantity, },\n    props:{\n        alone: {\n            type: Boolean,\n            default: false,\n        }\n    },\n    data(){\n        return {\n            loading: true,\n            products: [],\n        };\n    },\n    mounted() {\n        this.getProducts();\n    },\n    methods:{\n        async getProducts() {\n            this.loading = true;\n            await this.axios.get('/v1/products', {\n                headers: {\n                    Accept: 'application/json'\n                }\n            }).then(response => {\n                if (Array.isArray(response.data)) this.products = response.data;\n            }).catch(() => {\n            });\n            this.loading = false;\n        },\n        remove(product){\n            this.$store.commit('addItem', {product_id:product.product.title, quantity: 0});\n        },\n        updateQuantity(product, q){\n            if(q > 0) {\n                this.$store.commit('updateItem', {product_id: product.product.title, quantity: q});\n            }\n        }\n    },\n    computed:{\n        inCart(){\n            let products = [];\n            for (const title in this.$store.state.cart) {\n                /* eslint-disable  no-prototype-builtins */\n                if (this.$store.state.cart.hasOwnProperty(title)) {\n                    const product = this.products.find(p=>p.title === title);\n                    if(product && this.$store.state.cart[title] > 0){\n                        products.push({\n                            product,\n                            quantity: Math.floor(this.$store.state.cart[title]),\n                        });\n                    }\n                }\n            }\n            this.$emit('update', products);\n            return products;\n        },\n        toMoney(){\n            return (data)=>{\n                let val = parseFloat(data);\n                if(isNaN(val))val = 0;\n                else val = Math.round((val + Number.EPSILON) * 100) / 100;\n                return \"$\" + val.toFixed(2);\n            };\n        }\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.cart-list{\n    .quantity-selector{\n        margin-right: 10px;\n\n    }\n    .fa-trash-can{\n        color: #808080;\n        cursor: pointer;\n    }\n    .single{\n        display: flex;\n        .cart-item{\n            flex: 1;\n        }\n        .fa-times{\n            color: #adadae;\n        }\n    }\n}\n</style>\n"]}]}