{"remainingRequest":"/Users/juan/Downloads/estore/node_modules/babel-loader/lib/index.js!/Users/juan/Downloads/estore/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/juan/Downloads/estore/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/juan/Downloads/estore/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/juan/Downloads/estore/resources/js/vue/components/CartButton.vue?vue&type=template&id=939e2458&scoped=true","dependencies":[{"path":"/Users/juan/Downloads/estore/resources/js/vue/components/CartButton.vue","mtime":1649246988511},{"path":"/Users/juan/Downloads/estore/babel.config.js","mtime":1649079486963},{"path":"/Users/juan/Downloads/estore/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/juan/Downloads/estore/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/juan/Downloads/estore/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/juan/Downloads/estore/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/juan/Downloads/estore/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB3aXRoTW9kaWZpZXJzIGFzIF93aXRoTW9kaWZpZXJzLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoU2NvcGVJZCA9IGZ1bmN0aW9uIF93aXRoU2NvcGVJZChuKSB7CiAgcmV0dXJuIF9wdXNoU2NvcGVJZCgiZGF0YS12LTkzOWUyNDU4IiksIG4gPSBuKCksIF9wb3BTY29wZUlkKCksIG47Cn07Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogIm5vc2VsZWN0Igp9OwoKdmFyIF9ob2lzdGVkXzIgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgiTXkgQ2FydCAiKTsKCnZhciBfaG9pc3RlZF8zID0gewogIGtleTogMAp9OwoKdmFyIF9ob2lzdGVkXzQgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKGZ1bmN0aW9uICgpIHsKICByZXR1cm4gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImkiLCB7CiAgICBjbGFzczogImZhLXNvbGlkIGZhLWNhcmV0LWRvd24iCiAgfSwgbnVsbCwgLTEKICAvKiBIT0lTVEVEICovCiAgKTsKfSk7Cgp2YXIgX2hvaXN0ZWRfNSA9IHsKICBjbGFzczogImxzdCIKfTsKdmFyIF9ob2lzdGVkXzYgPSB7CiAgY2xhc3M6ICJhY3Rpb25zIgp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X2NhcnRfbGlzdCA9IF9yZXNvbHZlQ29tcG9uZW50KCJjYXJ0LWxpc3QiKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygidWwiLCB7CiAgICBjbGFzczogImNhcnQtYnV0dG9uIiwKICAgIG9uQ2xpY2s6IF9jYWNoZVszXSB8fCAoX2NhY2hlWzNdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJG9wdGlvbnMuc2hvdyAmJiAkb3B0aW9ucy5zaG93LmFwcGx5KCRvcHRpb25zLCBhcmd1bWVudHMpOwogICAgfSkKICB9LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgibGkiLCBudWxsLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIF9ob2lzdGVkXzEsIFtfaG9pc3RlZF8yLCAkb3B0aW9ucy50b3RhbEl0ZW1zID4gMCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soInNwYW4iLCBfaG9pc3RlZF8zLCBbX2NyZWF0ZVRleHRWTm9kZSgiKCIgKyBfdG9EaXNwbGF5U3RyaW5nKCRvcHRpb25zLnRvdGFsSXRlbXMpICsgIikiLCAxCiAgLyogVEVYVCAqLwogICksIF9ob2lzdGVkXzRdKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldKSwgJGRhdGEuc2hvd0RldGFpbHMgJiYgJG9wdGlvbnMudG90YWxJdGVtcyA+IDAgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICBrZXk6IDAsCiAgICBjbGFzczogImRldGFpbHMiLAogICAgb25DbGljazogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBfd2l0aE1vZGlmaWVycyhmdW5jdGlvbiAoKSB7fSwgWyJzdG9wIiwgInByZXZlbnQiXSkpCiAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzUsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9jYXJ0X2xpc3QsIHsKICAgIG9uVXBkYXRlOiAkb3B0aW9ucy51cGRhdGVkLAogICAgYWxvbmU6IHRydWUKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsib25VcGRhdGUiXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNiwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImJ1dHRvbiIsIHsKICAgIGNsYXNzOiAid2hpdGUiLAogICAgb25DbGljazogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5uYXZpZ2F0ZSgnL2NhcnQnKTsKICAgIH0pCiAgfSwgIlZpZXcgQ2FydCIpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJidXR0b24iLCB7CiAgICBjbGFzczogImJhY2siLAogICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICRkYXRhLnNob3dEZXRhaWxzID0gZmFsc2U7CiAgICB9KQogIH0sICJDaGFja291dCIpXSldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldKV0pOwp9"},{"version":3,"mappings":";;;;;;;AAGkBA,OAAK,EAAC;;;+CAAW;;;;;;;sBAAoDC,oBAAsC,GAAtC,EAAsC;AAAnCD,SAAK,EAAC;AAA6B,GAAtC,EAAiC,IAAjC,EAAiC;AAAA;AAAjC;;;;AAElEA,OAAK,EAAC;;;AAGNA,OAAK,EAAC;;;;;uBAPvBE,oBAaK,IAbL,EAaK;AAbDF,SAAK,EAAC,aAaL;AAboBG,WAAK;AAAA,aAAEC,yDAAF;AAAA;AAazB,GAbL,GACIH,oBAWK,IAXL,EAWK,IAXL,EAWK,CAVDA,oBAA+H,MAA/H,cAA+H,aAApFG,sBAAU,mBAAtBF,oBAAyF,MAAzF,EAAyFG,UAAzF,EAAyF,kBAA7D,MAACC,iBAAEF,mBAAF,CAAD,GAAe,KAAC;AAAA;GAA6C,EAA7CG,UAA6C,CAAzF,sCAAgG,CAA/H,CAUC,EAT0BC,qBAAeJ,sBAAU,mBAApDF,oBAQM,KARN,EAQM;UAAA;AARDF,SAAK,EAAC,SAQL;AARqDG,WAAK,2CAAN,aAAmB,CAAb,EAAa,mBAAb;AAQ1D,GARN,GACIF,oBAEM,KAFN,cAEM,CADFQ,aAA6CC,oBAA7C,EAA6C;AAAjCC,YAAM,EAAEP,gBAAyB;AAAfQ,SAAK,EAAE;AAAQ,GAA7C;;AAAA,iBACE,CAFN,GAGAX,oBAGM,KAHN,cAGM,CAFFA,oBAAmE,QAAnE,EAAmE;AAA3DD,SAAK,EAAC,OAAqD;AAA5CG,WAAK;AAAA,aAAEC,kBAAQ,OAAR,CAAF;AAAA;AAAuC,GAAnE,EAAiD,WAAjD,CAEE,EADFH,oBAAoE,QAApE,EAAoE;AAA5DD,SAAK,EAAC,MAAsD;AAA9CG,WAAK;AAAEK,0BAAW,KAAX;AAAW,KAAb;AAAyC,GAApE,EAAmD,UAAnD,CACE,CAHN,EAJJ,sCASC,CAXL,EADJ","names":["class","_createElementVNode","_createElementBlock","onClick","$options","_hoisted_3","_toDisplayString","_hoisted_4","$data","_createVNode","_component_cart_list","onUpdate","alone"],"sourceRoot":"","sources":["/Users/juan/Downloads/estore/resources/js/vue/components/CartButton.vue"],"sourcesContent":["<template>\n    <ul class=\"cart-button\" @click=\"show\" >\n        <li>\n            <span class=\"noselect\">My Cart <span v-if=\"totalItems > 0\">({{totalItems}})<i class=\"fa-solid fa-caret-down\"></i></span></span>\n            <div class=\"details\" v-if=\"showDetails && totalItems > 0\" @click.stop.prevent>\n                <div class=\"lst\">\n                    <cart-list @update=\"updated\" :alone=\"true\" />\n                </div>\n                <div class=\"actions\">\n                    <button class=\"white\" @click=\"navigate('/cart')\">View Cart</button>\n                    <button class=\"back\" @click=\"showDetails = false;\">Chackout</button>\n                </div>\n            </div>\n        </li>\n    </ul>\n</template>\n\n<script>\nimport CartList from \"./CartList\";\nexport default {\n    name: \"CartButton\",\n    data(){\n       return {\n           showDetails: false,\n       };\n    },\n    components:{\n        CartList,\n    },\n    mounted() {\n        addEventListener('click', this.windowClick);\n    },\n    beforeUnmount() {\n    },\n    computed:{\n        totalItems(){\n            let t = 0;\n            for (const title in this.$store.state.cart) {\n                /* eslint-disable no-prototype-builtins */\n                if (this.$store.state.cart.hasOwnProperty(title)) {\n                    t += this.$store.state.cart[title];\n                }\n            }\n            return t;\n        }\n    },\n    methods:{\n        updated(){\n            this.$nextTick(()=>{\n                if(this.totalItems === 0 && this.showDetails)this.showDetails = false;\n            });\n        },\n        show(){\n            if(!this.showDetails)this.showDetails = this.totalItems > 0;\n            else this.showDetails = false;\n        },\n        navigate(to){\n            this.showDetails = false;\n            this.$router.push(to);\n        },\n        windowClick(e){\n            if(!this.showDetails) return;\n            let elm =  e.target;\n            while (elm.parentNode !== document.body){\n                elm = elm.parentNode;\n                if(elm === this.$el)return;\n            }\n            this.showDetails = false;\n        }\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.cart-button{\n    cursor: pointer;\n    margin: 0 !important;\n    position: relative;\n    margin: -20px;\n    .fa-caret-down{\n        margin-left: 10px;\n    }\n    >li{\n        height: 72px;\n        display: flex;\n        align-items: center;\n    }\n    .details{\n        -webkit-box-shadow: 5px 5px 12px 1px rgba(0,0,0,0.33);\n        box-shadow: 5px 5px 12px 1px rgba(0,0,0,0.33);\n        position: absolute;\n        top: 100%;\n        z-index: 2;\n        background: white;\n        width: 100vw;\n        right: 0;\n        padding: 10px;\n        max-width: 300px;\n        .lst{\n            overflow: auto;\n            max-height: 300px;\n            margin-bottom: 10px;\n            ::v-deep{\n                text-align: left;\n                div.single{\n                    margin: 10px 0;\n                    &:first-child{\n                        margin-top: 0;\n                    }\n                }\n            }\n        }\n        .actions{\n            display: flex;\n            margin-left: -10px;\n            button{\n                white-space: nowrap;\n                flex: 1;\n                margin-left: 10px;\n                padding: 12px 0 !important;\n            }\n        }\n    }\n}\n</style>\n"]}]}