{"remainingRequest":"/Users/juan/Downloads/estore/node_modules/babel-loader/lib/index.js!/Users/juan/Downloads/estore/node_modules/eslint-loader/index.js??ref--14-0!/Users/juan/Downloads/estore/resources/js/vue/store.js","dependencies":[{"path":"/Users/juan/Downloads/estore/resources/js/vue/store.js","mtime":1649243447983},{"path":"/Users/juan/Downloads/estore/babel.config.js","mtime":1649079486963},{"path":"/Users/juan/Downloads/estore/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/juan/Downloads/estore/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/juan/Downloads/estore/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgeyBjcmVhdGVTdG9yZSB9IGZyb20gJ3Z1ZXgnOwoKZnVuY3Rpb24gZG9TYXZlTG9jYWxseShjYXJ0KSB7CiAgaWYgKCdsb2NhbFN0b3JhZ2UnIGluIHdpbmRvdykgewogICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjYXJ0JywgSlNPTi5zdHJpbmdpZnkoY2FydCkpOwogIH0KfQoKZnVuY3Rpb24gZ2V0TG9jYWxseVNhdmVkKCkgewogIGlmICgnbG9jYWxTdG9yYWdlJyBpbiB3aW5kb3cpIHsKICAgIHZhciB0bXAgPSBKU09OLnBhcnNlKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpKTsKICAgIGlmICh0bXApIHJldHVybiB0bXA7CiAgfQoKICByZXR1cm4ge307Cn0KLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMsIG5vLWRlYnVnZ2VyICovCgoKdmFyIHN0b3JlID0gY3JlYXRlU3RvcmUoewogIHN0YXRlOiBmdW5jdGlvbiBzdGF0ZSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNhcnQ6IGdldExvY2FsbHlTYXZlZCgpCiAgICB9OwogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBhZGRJdGVtOiBmdW5jdGlvbiBhZGRJdGVtKHN0YXRlLCBfcmVmKSB7CiAgICAgIHZhciBwcm9kdWN0X2lkID0gX3JlZi5wcm9kdWN0X2lkLAogICAgICAgICAgcXVhbnRpdHkgPSBfcmVmLnF1YW50aXR5OwoKICAgICAgaWYgKHF1YW50aXR5ID4gMCkgewogICAgICAgIGlmICghc3RhdGUuY2FydFtwcm9kdWN0X2lkXSkgc3RhdGUuY2FydFtwcm9kdWN0X2lkXSA9IDA7CiAgICAgICAgc3RhdGUuY2FydFtwcm9kdWN0X2lkXSArPSBxdWFudGl0eTsKICAgICAgfSBlbHNlIGlmIChzdGF0ZS5jYXJ0W3Byb2R1Y3RfaWRdKSBkZWxldGUgc3RhdGUuY2FydFtwcm9kdWN0X2lkXTsKCiAgICAgIGRvU2F2ZUxvY2FsbHkoc3RhdGUuY2FydCk7CiAgICB9LAogICAgdXBkYXRlSXRlbTogZnVuY3Rpb24gdXBkYXRlSXRlbShzdGF0ZSwgX3JlZjIpIHsKICAgICAgdmFyIHByb2R1Y3RfaWQgPSBfcmVmMi5wcm9kdWN0X2lkLAogICAgICAgICAgcXVhbnRpdHkgPSBfcmVmMi5xdWFudGl0eTsKCiAgICAgIGlmIChzdGF0ZS5jYXJ0W3Byb2R1Y3RfaWRdKSB7CiAgICAgICAgc3RhdGUuY2FydFtwcm9kdWN0X2lkXSA9IHF1YW50aXR5OwogICAgICAgIGRvU2F2ZUxvY2FsbHkoc3RhdGUuY2FydCk7CiAgICAgIH0KICAgIH0KICB9Cn0pOwpleHBvcnQgZGVmYXVsdCBzdG9yZTs="},{"version":3,"sources":["/Users/juan/Downloads/estore/resources/js/vue/store.js"],"names":["createStore","doSaveLocally","cart","window","localStorage","setItem","JSON","stringify","getLocallySaved","tmp","parse","getItem","store","state","mutations","addItem","product_id","quantity","updateItem"],"mappings":";AAAA,SAASA,WAAT,QAA4B,MAA5B;;AAEA,SAASC,aAAT,CAAuBC,IAAvB,EAA4B;AACxB,MAAG,kBAAkBC,MAArB,EAA4B;AACxBA,IAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,EAAoCC,IAAI,CAACC,SAAL,CAAeL,IAAf,CAApC;AACH;AACJ;;AAED,SAASM,eAAT,GAA0B;AACtB,MAAG,kBAAkBL,MAArB,EAA4B;AACxB,QAAIM,GAAG,GAAGH,IAAI,CAACI,KAAL,CAAWP,MAAM,CAACC,YAAP,CAAoBO,OAApB,CAA4B,MAA5B,CAAX,CAAV;AACA,QAAGF,GAAH,EAAQ,OAAOA,GAAP;AACX;;AACD,SAAO,EAAP;AACH;AACD;;;AACA,IAAMG,KAAK,GAAGZ,WAAW,CAAC;AACtBa,EAAAA,KADsB,mBACb;AACL,WAAO;AACHX,MAAAA,IAAI,EAAEM,eAAe;AADlB,KAAP;AAGH,GALqB;AAMtBM,EAAAA,SAAS,EAAE;AACPC,IAAAA,OADO,mBACEF,KADF,QACiC;AAAA,UAAvBG,UAAuB,QAAvBA,UAAuB;AAAA,UAAXC,QAAW,QAAXA,QAAW;;AACpC,UAAGA,QAAQ,GAAG,CAAd,EAAgB;AACZ,YAAG,CAACJ,KAAK,CAACX,IAAN,CAAWc,UAAX,CAAJ,EAA2BH,KAAK,CAACX,IAAN,CAAWc,UAAX,IAAyB,CAAzB;AAC3BH,QAAAA,KAAK,CAACX,IAAN,CAAWc,UAAX,KAA0BC,QAA1B;AACH,OAHD,MAIK,IAAGJ,KAAK,CAACX,IAAN,CAAWc,UAAX,CAAH,EAA0B,OAAOH,KAAK,CAACX,IAAN,CAAWc,UAAX,CAAP;;AAC/Bf,MAAAA,aAAa,CAACY,KAAK,CAACX,IAAP,CAAb;AACH,KARM;AASPgB,IAAAA,UATO,sBASIL,KATJ,SASkC;AAAA,UAAtBG,UAAsB,SAAtBA,UAAsB;AAAA,UAAVC,QAAU,SAAVA,QAAU;;AACrC,UAAGJ,KAAK,CAACX,IAAN,CAAWc,UAAX,CAAH,EAA0B;AACtBH,QAAAA,KAAK,CAACX,IAAN,CAAWc,UAAX,IAAyBC,QAAzB;AACAhB,QAAAA,aAAa,CAACY,KAAK,CAACX,IAAP,CAAb;AACH;AACJ;AAdM;AANW,CAAD,CAAzB;AAwBA,eAAeU,KAAf","sourcesContent":["import { createStore } from 'vuex'\n\nfunction doSaveLocally(cart){\n    if('localStorage' in window){\n        window.localStorage.setItem('cart', JSON.stringify(cart));\n    }\n}\n\nfunction getLocallySaved(){\n    if('localStorage' in window){\n        let tmp = JSON.parse(window.localStorage.getItem('cart'));\n        if(tmp) return tmp;\n    }\n    return {};\n}\n/* eslint-disable no-unused-vars, no-debugger */\nconst store = createStore({\n    state () {\n        return {\n            cart: getLocallySaved(),\n        }\n    },\n    mutations: {\n        addItem (state, {product_id, quantity}) {\n            if(quantity > 0){\n                if(!state.cart[product_id])state.cart[product_id] = 0;\n                state.cart[product_id] += quantity;\n            }\n            else if(state.cart[product_id])delete state.cart[product_id];\n            doSaveLocally(state.cart);\n        },\n        updateItem(state, {product_id, quantity}){\n            if(state.cart[product_id]){\n                state.cart[product_id] = quantity;\n                doSaveLocally(state.cart);\n            }\n        }\n    }\n});\n\nexport default store;\n"]}]}